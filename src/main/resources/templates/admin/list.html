<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Users' list page</title>
</head>
<body>
<h1>Hello it's users's list page</h1>
<table border="1">
    <tr th:if="${list.isEmpty()}">
        <td colspan="2"> no users in database </td>
    </tr>

    <tr th:each="user : ${list}">
        <td><span th:text="${user.id}">id</span></td>

        <td><span th:text="${user.name}">name</span></td>

        <td><span th:text="${user.password}">password</span></td>

        <td><span th:text="${user.listRolesToString()}">roles</span></td>

        <td>
         <form th:action="@{/admin/edit}" method="post">
              <input type="text" hidden name="id" th:value="${user.id}">
                <input type="submit" value="Edit">
            </form>
        </td>

        <td>
            <form th:action="@{/admin/delete}" method="post">
                <input type="text" hidden name="id" th:value="${user.id}">
                <input type="submit" value="Delete">
            </form>
        </td>
    </tr>
</table>

<button onclick="location.href='/admin/register'">go to registration</button>
<button onclick="location.href='/admin/deleteall'">delete all users</button>
<button onclick="location.href='/logout'">logout</button>
</body>
</html>